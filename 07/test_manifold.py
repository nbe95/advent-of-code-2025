from manifold import TachyonManifold


def test_manifold() -> None:

    m = TachyonManifold(
        [
            ".......S.......",
            "...............",
            ".......^.......",
            "...............",
            "......^.^......",
            "...............",
            ".....^.^.^.....",
            "...............",
            "....^.^...^....",
            "...............",
            "...^.^...^.^...",
            "...............",
            "..^...^.....^..",
            "...............",
            ".^.^.^.^.^...^.",
            "...............",
        ]
    )
    m.process_beam()
    assert m.count_splits() == 21
    assert m.count_paths() == 40
